<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>
<body>
    <nav class="d-flex justify-content-around align-items-center bg-dark  text-white ">
        <h1>Profile</h1>
        <a class="text-decoration-none text-white" href="/books">Dashboard</a>
        <a class="text-decoration-none text-white" href="/logout">Logout</a>
    </nav>
    {% with messages = get_flashed_messages(category_filter=["updateSucces"]) %}
        {% if messages %}
            
            {% for message in messages %}
                <p class="text-success text-center">{{ message }}</p>
            {% endfor %}
            
        {% endif %}
    {% endwith %}
    <!-- kur editon ose do e besh me id ose me input hidden eshte te w10-d1 minuti 1.21 -->
    <!-- dhe kur editojme ndryshe nga kur regjistrojme per heren e pare ajo qe do shtojme eshte value me sintaksen e jinja qe fusha te jete e mbushur me te dhenat aktuale te userit -->
    <form action="/edit/user" method="POST" class="w-50 m-auto mt-5">
        <h1>Register</h1>
        <div class="mb-3">
            <label for="first_name" class="form-label">First Name</label>
            <input type="text" name="first_name" value="{{loggedUser.first_name}}" class="form-control" id="first_name">
        </div>
        {% with messages = get_flashed_messages(category_filter=["nameRegister"]) %}
            {% if messages %}
                
                {% for message in messages %}
                    <p class="text-danger text-center">{{ message }}</p>
                {% endfor %}
                
            {% endif %}
        {% endwith %}
        <div class="mb-3">
            <label for="last_name" class="form-label">Last Name</label>
            <input type="text" name="last_name" value="{{loggedUser.last_name}}" class="form-control" id="last_name">
        </div>
        {% with messages = get_flashed_messages(category_filter=["lastNameRegister"]) %}
            {% if messages %}
            
                {% for message in messages %}
                    <p class="text-danger text-center">{{ message }}</p>
                {% endfor %}
            
            {% endif %}
        {% endwith %}
        <button type="submit" class="btn btn-primary">Update</button>
    </form>
</body>
</html>